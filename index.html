<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>मोबाइल रिचार्ज</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f7f7f7;
        margin: 0;
        padding: 0;
    }
    header {
        background: #d60000;
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 22px;
        font-weight: bold;
    }
    main {
        max-width: 480px;
        margin: auto;
        padding: 20px;
    }
    label {
        font-weight: bold;
        display: block;
        margin-top: 15px;
    }
    input, select, button {
        width: 100%;
        padding: 12px;
        margin-top: 8px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 16px;
    }
    button {
        background: #d60000;
        color: white;
        border: none;
        cursor: pointer;
        margin-top: 20px;
    }
    button:hover {
        background: #b30000;
    }
    .card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .card h3 {
        margin: 0;
        color: #d60000;
    }
    .pay-btn {
        background: #28a745;
        margin-top: 10px;
    }
    .upi-btn {
        width: 48%;
        display: inline-block;
        background: #007bff;
        margin-top: 10px;
        color: white;
        text-align: center;
        padding: 12px;
        border-radius: 5px;
        text-decoration: none;
    }
    .upi-btn.phonepe {
        background: #5f259f;
    }
    img.qr {
        margin-top: 15px;
        max-width: 220px;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
</style>
</head>
<body>

<header>मोबाइल रिचार्ज</header>
<main id="page1">
    <h2>मोबाइल नंबर और ऑपरेटर चुनें</h2>
    <label>मोबाइल नंबर</label>
    <input type="tel" id="mobile" placeholder="10 अंकों का मोबाइल नंबर" pattern="[0-9]{10}" required>

    <label>ऑपरेटर</label>
    <select id="operator">
        <option value="">-- चुनें --</option>
        <option value="jio">Jio</option>
        <option value="airtel">Airtel</option>
        <option value="vi">Vodafone Idea (Vi)</option>
        <option value="bsnl">BSNL</option>
    </select>

    <button onclick="goToPlans()">Recharge Now</button>
</main>

<main id="page2" style="display:none;">
    <h2>प्लान चुनें</h2>
    <div id="plansList"></div>
    <button onclick="goBack()">⬅ वापस जाएं</button>
</main>

<main id="page3" style="display:none;">
    <h2>पेमेंट करें</h2>
    <p id="summary"></p>
    <a id="gpayLink" class="upi-btn" style="background:#007bff;">Google Pay</a>
    <a id="phonepeLink" class="upi-btn phonepe">PhonePe</a>
    <img id="qrCode" class="qr" alt="UPI QR Code">
    <button onclick="goBackToPlans()">⬅ प्लान बदलें</button>
</main>

<script>
const plansData = {
    jio: [
        {amount: 149, validity: "28 दिन", benefits: "2GB/दिन डाटा"},
        {amount: 249, validity: "56 दिन", benefits: "1.5GB/दिन डाटा"},
        {amount: 399, validity: "84 दिन", benefits: "2GB/दिन डाटा"}
    ],
    airtel: [
        {amount: 199, validity: "28 दिन", benefits: "1.5GB/दिन डाटा"},
        {amount: 299, validity: "56 दिन", benefits: "2GB/दिन डाटा"},
        {amount: 449, validity: "84 दिन", benefits: "2.5GB/दिन डाटा"}
    ],
    vi: [
        {amount: 149, validity: "28 दिन", benefits: "1GB/दिन डाटा"},
        {amount: 249, validity: "56 दिन", benefits: "1.5GB/दिन डाटा"},
        {amount: 399, validity: "84 दिन", benefits: "2GB/दिन डाटा"}
    ],
    bsnl: [
        {amount: 125, validity: "30 दिन", benefits: "Unlimited कॉल + 2GB डाटा"},
        {amount: 225, validity: "60 दिन", benefits: "Unlimited कॉल + 3GB डाटा"},
        {amount: 350, validity: "90 दिन", benefits: "Unlimited कॉल + 5GB डाटा"}
    ]
};

let selectedNumber = "";
let selectedOperator = "";
let selectedPlan = null;

function goToPlans() {
    const mobile = document.getElementById("mobile").value.trim();
    const operator = document.getElementById("operator").value;
    if(!mobile.match(/^[0-9]{10}$/)) {
        alert("सही मोबाइल नंबर डालें");
        return;
    }
    if(!operator) {
        alert("ऑपरेटर चुनें");
        return;
    }
    selectedNumber = mobile;
    selectedOperator = operator;
    const plans = plansData[operator];
    const listDiv = document.getElementById("plansList");
    listDiv.innerHTML = "";
    plans.forEach(plan => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `<h3>₹${plan.amount}</h3>
                         <p>वैधता: ${plan.validity}</p>
                         <p>${plan.benefits}</p>
                         <button class="pay-btn" onclick='goToPayment(${plan.amount})'>Buy Now</button>`;
        listDiv.appendChild(div);
    });
    document.getElementById("page1").style.display = "none";
    document.getElementById("page2").style.display = "block";
}

function goBack() {
    document.getElementById("page2").style.display = "none";
    document.getElementById("page1").style.display = "block";
}

function goToPayment(amount) {
    selectedPlan = amount;
    const name = "Monika Dadhich";
    const upiId = "monikadadhich@jio";
    const note = "मोबाइल रिचार्ज";
    const upiUri = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}&cu=INR&tn=${encodeURIComponent(note)}`;

    document.getElementById("summary").innerText = 
        `मोबाइल: ${selectedNumber}\nप्लान: ₹${amount}`;

    document.getElementById("gpayLink").href = `intent://${upiUri.replace('upi://','')}#Intent;scheme=upi;package=com.google.android.apps.nbu.paisa.user;end`;
    document.getElementById("phonepeLink").href = `intent://${upiUri.replace('upi://','')}#Intent;scheme=upi;package=com.phonepe.app;end`;

    document.getElementById("qrCode").src = `https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent(upiUri)}`;

    document.getElementById("page2").style.display = "none";
    document.getElementById("page3").style.display = "block";
}

function goBackToPlans() {
    document.getElementById("page3").style.display = "none";
    document.getElementById("page2").style.display = "block";
}
</script>

</body>
</html>